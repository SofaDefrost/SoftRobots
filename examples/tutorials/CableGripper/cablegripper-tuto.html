<!doctype html>
<html>
 <head> 
  <title>IntelliJ Markdown Preview</title>               
  <style>/* Reworked by IntelliJ Team The MIT License (MIT) Copyright (c) JetBrains Adapted from https://github.com/sindresorhus/github-markdown-css The MIT License (MIT) Copyright (c) Sindre Sorhus &lt;sindresorhus@gmail.com&gt; (sindresorhus.com) Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. */ @font-face { font-family: octicons-anchor; src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAYcAA0AAAAACjQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAABMAAAABwAAAAca8vGTk9TLzIAAAFMAAAARAAAAFZG1VHVY21hcAAAAZAAAAA+AAABQgAP9AdjdnQgAAAB0AAAAAQAAAAEACICiGdhc3AAAAHUAAAACAAAAAj//wADZ2x5ZgAAAdwAAADRAAABEKyikaNoZWFkAAACsAAAAC0AAAA2AtXoA2hoZWEAAALgAAAAHAAAACQHngNFaG10eAAAAvwAAAAQAAAAEAwAACJsb2NhAAADDAAAAAoAAAAKALIAVG1heHAAAAMYAAAAHwAAACABEAB2bmFtZQAAAzgAAALBAAAFu3I9x/Nwb3N0AAAF/AAAAB0AAAAvaoFvbwAAAAEAAAAAzBdyYwAAAADP2IQvAAAAAM/bz7t4nGNgZGFgnMDAysDB1Ml0hoGBoR9CM75mMGLkYGBgYmBlZsAKAtJcUxgcPsR8iGF2+O/AEMPsznAYKMwIkgMA5REMOXicY2BgYGaAYBkGRgYQsAHyGMF8FgYFIM0ChED+h5j//yEk/3KoSgZGNgYYk4GRCUgwMaACRoZhDwCs7QgGAAAAIgKIAAAAAf//AAJ4nHWMMQrCQBBF/0zWrCCIKUQsTDCL2EXMohYGSSmorScInsRGL2DOYJe0Ntp7BK+gJ1BxF1stZvjz/v8DRghQzEc4kIgKwiAppcA9LtzKLSkdNhKFY3HF4lK69ExKslx7Xa+vPRVS43G98vG1DnkDMIBUgFN0MDXflU8tbaZOUkXUH0+U27RoRpOIyCKjbMCVejwypzJJG4jIwb43rfl6wbwanocrJm9XFYfskuVC5K/TPyczNU7b84CXcbxks1Un6H6tLH9vf2LRnn8Ax7A5WQAAAHicY2BkYGAA4teL1+yI57f5ysDNwgAC529f0kOmWRiYVgEpDgYmEA8AUzEKsQAAAHicY2BkYGB2+O/AEMPCAAJAkpEBFbAAADgKAe0EAAAiAAAAAAQAAAAEAAAAAAAAKgAqACoAiAAAeJxjYGRgYGBhsGFgYgABEMkFhAwM/xn0QAIAD6YBhwB4nI1Ty07cMBS9QwKlQapQW3VXySvEqDCZGbGaHULiIQ1FKgjWMxknMfLEke2A+IJu+wntrt/QbVf9gG75jK577Lg8K1qQPCfnnnt8fX1NRC/pmjrk/zprC+8D7tBy9DHgBXoWfQ44Av8t4Bj4Z8CLtBL9CniJluPXASf0Lm4CXqFX8Q84dOLnMB17N4c7tBo1AS/Qi+hTwBH4rwHHwN8DXqQ30XXAS7QaLwSc0Gn8NuAVWou/gFmnjLrEaEh9GmDdDGgL3B4JsrRPDU2hTOiMSuJUIdKQQayiAth69r6akSSFqIJuA19TrzCIaY8sIoxyrNIrL//pw7A2iMygkX5vDj+G+kuoLdX4GlGK/8Lnlz6/h9MpmoO9rafrz7ILXEHHaAx95s9lsI7AHNMBWEZHULnfAXwG9/ZqdzLI08iuwRloXE8kfhXYAvE23+23DU3t626rbs8/8adv+9DWknsHp3E17oCf+Z48rvEQNZ78paYM38qfk3v/u3l3u3GXN2Dmvmvpf1Srwk3pB/VSsp512bA/GG5i2WJ7wu430yQ5K3nFGiOqgtmSB5pJVSizwaacmUZzZhXLlZTq8qGGFY2YcSkqbth6aW1tRmlaCFs2016m5qn36SbJrqosG4uMV4aP2PHBmB3tjtmgN2izkGQyLWprekbIntJFing32a5rKWCN/SdSoga45EJykyQ7asZvHQ8PTm6cslIpwyeyjbVltNikc2HTR7YKh9LBl9DADC0U/jLcBZDKrMhUBfQBvXRzLtFtjU9eNHKin0x5InTqb8lNpfKv1s1xHzTXRqgKzek/mb7nB8RZTCDhGEX3kK/8Q75AmUM/eLkfA+0Hi908Kx4eNsMgudg5GLdRD7a84npi+YxNr5i5KIbW5izXas7cHXIMAau1OueZhfj+cOcP3P8MNIWLyYOBuxL6DRylJ4cAAAB4nGNgYoAALjDJyIAOWMCiTIxMLDmZedkABtIBygAAAA==) format('woff'); } body { -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; font-family: Helvetica, Arial, freesans, sans-serif; font-size: 14px; line-height: 1.6; word-wrap: break-word; margin: 0 2em; } strong { font-weight: bold; } img { border: 0; } input { color: inherit; font: inherit; margin: 0; line-height: normal; } html input[disabled] { cursor: default; } input[type="checkbox"] { box-sizing: border-box; padding: 0; } body * { box-sizing: border-box; } input { font: 13px/1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; } a { text-decoration: none; } a:hover, a:active { text-decoration: underline; } hr { height: 1px; padding: 0; margin: 20px 0; border: 0 none; } hr:before { display: table; content: ""; } hr:after { display: table; clear: both; content: ""; } blockquote { margin: 0; } ul, ol { padding: 0; margin-top: 0; margin-bottom: 0; } ol ol, ul ol { list-style-type: lower-roman; } ul ul ol, ul ol ol, ol ul ol, ol ol ol { list-style-type: lower-alpha; } dd { margin-left: 0; } .octicon { font: normal normal normal 16px/1 octicons-anchor; display: inline-block; text-decoration: none; text-rendering: auto; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; } .octicon-link:before { content: '\f05c'; } .markdown-body &gt; *:first-child { margin-top: 0 !important; } .markdown-body &gt; *:last-child { margin-bottom: 0 !important; } .anchor { position: absolute; top: 0; left: 0; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; } .anchor:focus { outline: none; } h1, h2, h3, h4, h5, h6 { position: relative; margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; } h1 .octicon-link, h2 .octicon-link, h3 .octicon-link, h4 .octicon-link, h5 .octicon-link, h6 .octicon-link { display: none; color: #000; vertical-align: middle; } h1:hover .anchor, h2:hover .anchor, h3:hover .anchor, h4:hover .anchor, h5:hover .anchor, h6:hover .anchor { padding-left: 8px; margin-left: -30px; text-decoration: none; } h1:hover .anchor .octicon-link, h2:hover .anchor .octicon-link, h3:hover .anchor .octicon-link, h4:hover .anchor .octicon-link, h5:hover .anchor .octicon-link, h6:hover .anchor .octicon-link { display: inline-block; } h1 { font-size: 2.2em; padding-top: 0.6em; } h1 .anchor { line-height: 1; } h2 { font-size: 1.8em; line-height: 1.2; padding-top: 0.6em; } h2 .anchor { line-height: 1.2; } h3 { font-size: 1.3em; line-height: 1; padding-top: 0.6em; } h3 .anchor { line-height: 1.2; } h4 { font-size: 1em; } h4 .anchor { line-height: 1.2; } h5 { font-size: 1em; } h5 .anchor { line-height: 1.1; } h6 { font-size: 1em; } h6 .anchor { line-height: 1.1; } p, blockquote, ul, ol, dl, table, pre { margin-top: 16px; margin-bottom: 16px; } ul, ol { padding-left: 2em; } ul ul, ul ol, ol ol, ol ul { margin-top: 0; margin-bottom: 0; } li &gt; p { margin-top: 0; margin-bottom: 0; } dl { padding: 0; } dl dt { padding: 0; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold; } dl dd { padding: 0 16px; margin-bottom: 16px; } blockquote { padding: 10px 10px 10px 16px; border-left: 2px solid; border-radius: 0 3px 3px 0; } blockquote &gt; :first-child { margin-top: 0; } blockquote &gt; :last-child { margin-bottom: 0; } table { display: block; width: 100%; overflow: auto; word-break: normal; border-collapse: collapse; border-spacing: 0; font-size: 1em; } table th { font-weight: bold; } table th, table td { padding: 6px 13px; background: transparent; } table tr { border-top: 1px solid; } img { max-width: 100%; box-sizing: border-box; } code { font: 0.9em "JetBrains Mono", Consolas, "Liberation Mono", Menlo, Courier, monospace; padding: 0.2em 0.4em; margin: 2px; border-radius: 3px; } pre &gt; code { padding: 0; margin: 0; font-size: 100%; word-break: normal; white-space: pre; background: transparent; border: 0; } .highlight { margin-bottom: 16px; } .highlight pre, pre { font: 0.85em "JetBrains Mono", Consolas, "Liberation Mono", Menlo, Courier, monospace; padding: 16px; overflow: auto; line-height: 1.45; border-radius: 3px; } pre code { display: inline; max-width: initial; padding: 0; margin: 0; overflow: initial; line-height: inherit; word-wrap: normal; background-color: transparent; border: 0; } pre code:before, pre code:after { content: normal; } kbd { font: 0.9em "JetBrains Mono", Consolas, "Liberation Mono", Menlo, Courier, monospace; padding: 0.2em 0.4em; margin: 2px; border-radius: 3px; } .task-list-item { list-style-type: none; } .task-list-item + .task-list-item { margin-top: 3px; } .task-list-item input { margin: 0 0.35em 0.25em -0.6em; vertical-align: middle; } :checked + .radio-label { z-index: 1; position: relative; } span.user-del { text-decoration: line-through; } ::-webkit-scrollbar { width: 6px; height: 6px; } ::-webkit-scrollbar-thumb { -webkit-border-radius: 10px; } ::-webkit-scrollbar-track:vertical { -webkit-box-shadow: -1px 0 0 #ededed; } ::-webkit-scrollbar-track { background-color: transparent; } ::-webkit-scrollbar { width: 6px; } </style>
  <style>body { background-color: rgba(43, 43, 43, 255.0); font-size: 14px !important; } body, p, blockquote, ul, ol, dl, table, pre, code, tr { color: rgba(169, 183, 198, 255.0); } a { color: rgba(88, 157, 246, 255.0); } table td, table th { border: 1px solid rgba(81, 81, 81, 255.0); } hr { background-color: rgba(81, 81, 81, 255.0); } kbd, tr { border: 1px solid rgba(81, 81, 81, 255.0); } h6 { color: rgba(120, 120, 120, 255.0); } blockquote { border-left: 2px solid rgba(88, 157, 246, 0.4); } ::-webkit-scrollbar-thumb { background-color: rgba(166, 166, 166, 0.2784313725490196); } blockquote, code, pre { background-color: rgba(212, 222, 231, 0.09803921568627451); }</style>
  <style>/* Copyright 2000-2021 JetBrains s.r.o. and contributors. Use of this source code is governed by the Apache 2.0 license that can be found in the LICENSE file. */ .code-fence-highlighter-copy-button { float: right; display: flex; } .code-fence-highlighter-copy-button-icon { max-width: 1em; } .code-fence:hover .code-fence-highlighter-copy-button-icon { /*noinspection CssUnknownTarget*/ content: url("copy-button-copy-icon.png"); } .code-fence:hover .code-fence-highlighter-copy-button:hover .code-fence-highlighter-copy-button-icon { /*noinspection CssUnknownTarget*/ content: url("copy-button-copy-icon-hovered.png"); cursor: pointer; } </style>
  <style>/* Copyright 2000-2021 JetBrains s.r.o. and contributors. Use of this source code is governed by the Apache 2.0 license that can be found in the LICENSE file. */ .run-icon &gt; img { max-width: 1em; vertical-align: text-top; margin-right: 0.3em; } .code-block { position: absolute; left: 1em; } .hidden { display: none; }</style>
 </head> 
 <body>
  <div md-src-pos="0..20847">
   <p md-src-pos="0..36"><img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/8e7d3bba0dd361da1be69aed360e6fde-pluginimage.png?_ijt=41mnngsq3k7928tnmqr2v674ls" alt="" __idea-generated="true" md-src-pos="0..36" data-original-src="file:/home/eulalie/Softs/SOFA/plugins/SoftRobots/docs/images/pluginimage.png"></p>
   <h1 md-src-pos="38..77">Simulating a cable based soft gripper</h1>
   <p md-src-pos="78..468"><span md-src-pos="78..141">This tutorial describes how to set up a simulation environment,</span> <span md-src-pos="142..150">a scene,</span> <span md-src-pos="151..156">using</span> <span md-src-pos="157..167">..autolink</span>::<span md-src-pos="169..192">Sofa and how to use the</span> <span md-src-pos="193..203">..autolink</span>::<span md-src-pos="205..272">SoftRobots plugin to model a virtual soft gripper driven by cables.</span> <span md-src-pos="273..298">The design of the gripper</span> <span md-src-pos="299..328">we are going to model is from</span> <a href="https://dl.acm.org/citation.cfm?id=2977533" md-src-pos="329..397">Taimoor Hassan et al. </a><span md-src-pos="397..398">.</span> <span md-src-pos="399..467">Once modeled in Sofa the robot can be simulated and controlled as in</span>:</p>
   <center>
    <object style="width: 320px; height: 200px;" data="https://www.youtube.com/embed/9JOCe2pf34o?autoplay=0"> </object>
   </center> 
   <h2 md-src-pos="605..631">Tutorials requirements:</h2>
   <ul md-src-pos="633..1007">
    <li md-src-pos="633..733"><p md-src-pos="635..733">you have installed ..autolink::Sofa with the ..autolink::STLIB and ..autolink::SoftRobots plugins.</p></li>
    <li md-src-pos="735..877"><p md-src-pos="737..877">you have basic knowledge of the ..autolink::General::Python programming language. If not you can go to ..autolink::General::PythonTutorials.</p></li>
    <li md-src-pos="879..1007"><p md-src-pos="881..1007">you have basic knowledge of making scene with Sofa. If not, please complete the ..autolink::SoftRobots::Docs::FirstStep first.</p></li>
   </ul>
   <h2 md-src-pos="1009..1046">Step 0: Try the simulation in Sofa</h2>
   <p md-src-pos="1048..1129"><span md-src-pos="1048..1129">Before continuing this tutorial try the resulting simulation you need to achieve.</span></p>
   <p md-src-pos="1131..1216"><span md-src-pos="1131..1215">You can load the scene directly from this documentation by clicking on the following</span>:</p>
   <div> 
    <pre><a href="details/step0.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="12px" data-original-src="../../../docs/images/icons/play.png"> Try now the scene in Sofa.</a>
</pre> 
   </div> 
   <p md-src-pos="1360..1605"><span md-src-pos="1360..1396">Once loaded you can now click on the</span> [Animate] <span md-src-pos="1407..1451">button in the Sofa GUI and start interacting</span> <span md-src-pos="1452..1469">in the 3D window.</span> <span md-src-pos="1470..1536">When your cursor have clicked on the 3D window you can control the</span> <span md-src-pos="1537..1604">simulation to manipulate the gripper by pressing the following keys</span>:</p>
   <ul md-src-pos="1607..1829">
    <li md-src-pos="1607..1641">ctrl + <em md-src-pos="1617..1620">+</em> to close the gripper</li>
    <li md-src-pos="1642..1675">ctrl + <em md-src-pos="1652..1655">-</em> to open the gripper</li>
    <li md-src-pos="1676..1710">ctrl + <em md-src-pos="1686..1696">arrow up</em> to move it up</li>
    <li md-src-pos="1711..1749">ctrl + <em md-src-pos="1721..1733">arrow down</em> to move it down</li>
    <li md-src-pos="1750..1788">ctrl + <em md-src-pos="1760..1772">arrow left</em> to move it left</li>
    <li md-src-pos="1789..1829">ctrl + <em md-src-pos="1799..1812">arrow right</em> to move it right</li>
   </ul>
   <p md-src-pos="1831..1897"><span md-src-pos="1831..1852">Note that with MacOS,</span> <span md-src-pos="1853..1872">you may have to use</span> <em md-src-pos="1873..1878">cmd</em> <span md-src-pos="1879..1889">instead of</span> <em md-src-pos="1890..1896">ctrl</em><span md-src-pos="1896..1897">.</span></p>
   <h2 md-src-pos="1899..1933">Step 1: Setting up simple scene</h2>
   <p md-src-pos="1935..2565"><span md-src-pos="1935..1989">Sofa is loading the description of the simulation from</span> <code md-src-pos="1990..1995">.py</code> <span md-src-pos="1996..2002">files.</span> <span md-src-pos="2003..2065">The content of these file is in fact standard python code with</span> <span md-src-pos="2067..2094">at least one function named</span> <em md-src-pos="2095..2108">createScene</em> <span md-src-pos="2109..2135">taking a single parameter,</span> <span md-src-pos="2136..2168">the root of the scene hierarchy.</span> <span md-src-pos="2169..2214">This function is the entry point used by Sofa</span> <span md-src-pos="2215..2237">to fill the simulation</span>'<span md-src-pos="2238..2300">s content and this is the place where you will type your scene</span>'<span md-src-pos="2301..2315">s description.</span> <span md-src-pos="2316..2351">A scene is an ordered tree of nodes</span> (<span md-src-pos="2353..2355">ex</span>:<span md-src-pos="2356..2364">gripper.</span>)<span md-src-pos="2365..2366">,</span> <span md-src-pos="2367..2397">with parent/child relationship</span> (<span md-src-pos="2399..2401">ex</span>: <span md-src-pos="2403..2409">finger</span>)<span md-src-pos="2410..2411">.</span> <span md-src-pos="2412..2450">Each node has one or a few components.</span> <span md-src-pos="2451..2506">Every node and component has a name and a few features.</span> <span md-src-pos="2507..2553">The main node at the top of the tree is called</span> <code md-src-pos="2554..2564">rootNode</code><span md-src-pos="2564..2565">.</span></p>
   <p md-src-pos="2567..2601"><span md-src-pos="2567..2600">A very simple scene may look like</span>:</p>
   <pre class="code-fence" md-src-pos="2602..2998"><code class="language-python" md-src-pos="2602..2998">
     <div class="code-fence-highlighter-copy-button" data-fence-content="ZnJvbSBzdGxpYjMucGh5c2ljcy5yaWdpZCBpbXBvcnQgLi5hdXRvbGluazo6U1RMSUI6OkZsb29yCmZyb20gc3RsaWIzLnBoeXNpY3MucmlnaWQgaW1wb3J0IC4uYXV0b2xpbms6OlNUTElCOjpDdWJlCgpkZWYgY3JlYXRlU2NlbmUocm9vdE5vZGUpOgogICAgIiIiVGhpcyBpcyBteSBmaXJzdCBzY2VuZSIiIgoKICAgIC4uYXV0b2xpbms6OlNUTElCOjpGbG9vcihyb290Tm9kZSwKICAgICAgICAgIHRyYW5zbGF0aW9uPVswLjAsMC4wLDAuMF0sCiAgICAgICAgICBpc0FTdGF0aWNPYmplY3Q9VHJ1ZSkKCiAgICAuLmF1dG9saW5rOjpTVExJQjo6Q3ViZShyb290Tm9kZSwKICAgICAgICAgIHRyYW5zbGF0aW9uPVswLjAsMC4wLDAuMF0pCgoKICAgIHJldHVybiByb290Tm9kZQo=">
    
      <img class="code-fence-highlighter-copy-button-icon">

     </div><span md-src-pos="2594..2604"></span><span md-src-pos="2604..2662"><span style="color: rgb(204, 120, 50);">from</span> stlib3.physics.rigid <span style="color: rgb(204, 120, 50);">import</span> ..autolink::STLIB::Floor</span>
<span md-src-pos="2662..2719"><span style="color: rgb(204, 120, 50);">from</span> stlib3.physics.rigid <span style="color: rgb(204, 120, 50);">import</span> ..autolink::STLIB::Cube</span>
<span md-src-pos="2719..2720"></span>
<span md-src-pos="2720..2747"><span style="color: rgb(204, 120, 50);">def</span> createScene(rootNode):</span>
<span md-src-pos="2747..2780">    <span style="color: rgb(98, 151, 85);">"""This is my first scene"""</span></span>
<span md-src-pos="2780..2781"></span>
<span md-src-pos="2781..2820">    ..autolink::STLIB::Floor(rootNode<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="2820..2857">          translation=[<span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="2857..2889">          isAStaticObject=<span style="color: rgb(204, 120, 50);">True</span>)</span>
<span md-src-pos="2889..2890"></span>
<span md-src-pos="2890..2928">    ..autolink::STLIB::Cube(rootNode<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="2928..2965">          translation=[<span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span>])</span>
<span md-src-pos="2965..2966"></span>
<span md-src-pos="2966..2967"></span>
<span md-src-pos="2967..2987">    <span style="color: rgb(204, 120, 50);">return</span> rootNode</span>
<span md-src-pos="2987..2988"></span><span md-src-pos="2987..2990"></span></code></pre>
   <div> 
    <pre><a href="details/step1.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="16px" data-original-src="../../../docs/images/icons/play.png">Show me the result.</a>
<a href="myproject/cablegripper.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="16px" data-original-src="../../../docs/images/icons/play.png">Do it yourself.</a>
</pre> 
   </div> 
   <h3 md-src-pos="3247..3305"><i>Comments (things to present or do in this step)</i></h3>
   <ul md-src-pos="3307..3557">
    <li md-src-pos="3307..3382"><p md-src-pos="3309..3382">load <code md-src-pos="3314..3331">cablegripper.py</code> in sofa (with option '-i') and in your text editor</p></li>
    <li md-src-pos="3384..3421"><p md-src-pos="3386..3421">add a floor and a cube in the scene</p></li>
    <li md-src-pos="3423..3501"><p md-src-pos="3425..3501">show the scene graph structure and compare it with the content of the scene.</p></li>
    <li md-src-pos="3503..3557"><p md-src-pos="3505..3557">move the floor so that it is -160 along they y Axis.</p></li>
   </ul>
   <h2 md-src-pos="3560..3628">Step 2: Modeling and simulating the gripper's finger deformations</h2>
   <p md-src-pos="3630..4332"><span md-src-pos="3630..3677">We will now add a deformable object to a scene.</span> <span md-src-pos="3678..3733">There exists a lot of different mechanical behavior and</span> <span md-src-pos="3734..3844">it is important to understand the one that approximates the behavior of the real object your want to simulate.</span> <span md-src-pos="3845..3859">In particular,</span> <span md-src-pos="3860..3918">it is important to know how soft or stiff the material is,</span> <span md-src-pos="3919..3955">if it has an elastic or more complex</span> <span md-src-pos="3957..3966">behaviour</span> (<span md-src-pos="3968..3981">Hyperelastic,</span> <span md-src-pos="3982..3990">plastic,</span> <span md-src-pos="3991..3997">etc...</span>)<span md-src-pos="3998..3999">.</span> <span md-src-pos="4000..4012">In our case,</span> <span md-src-pos="4013..4067">the real material is silicon which we will approximate</span> <span md-src-pos="4069..4145">with an elastic deformation law and simulate using the Finite Element Method</span> (<span md-src-pos="4147..4157">..autolink</span>::<span md-src-pos="4159..4166">General</span>::<span md-src-pos="4168..4171">FEM</span>)<span md-src-pos="4172..4173">.</span> <span md-src-pos="4174..4182">In sofa,</span> <span md-src-pos="4184..4187">the</span> <span md-src-pos="4188..4198">..autolink</span>::<span md-src-pos="4200..4205">STLIB</span>::<span md-src-pos="4207..4228">ElasticMaterialObject</span> <code md-src-pos="4229..4261">from stlib3.physics.deformable</code> <span md-src-pos="4262..4287">provides a scene template</span> <span md-src-pos="4288..4331">to easily add such an object in your scene.</span></p>
   <p md-src-pos="4334..4627"><span md-src-pos="4334..4443">To compute the deformation of the object using the Finite Element Method a volumetric representation of shape</span> <span md-src-pos="4444..4461">must be provided.</span> <span md-src-pos="4462..4517">In our case we are using a tetrahedral mesh stored in a</span> "<span md-src-pos="4519..4522">vtk</span>" <span md-src-pos="4524..4529">file.</span> <span md-src-pos="4530..4557">In this tutorial we already</span> <span md-src-pos="4558..4613">provide the appropriate tetrahedral mesh in a file name</span> <code md-src-pos="4614..4626">finger.vtk</code><span md-src-pos="4626..4627">.</span></p>
   <p md-src-pos="4629..4665"><span md-src-pos="4629..4632">Let</span>'<span md-src-pos="4633..4646">s now work in</span> <code md-src-pos="4647..4658">finger.py</code><span md-src-pos="4658..4664">to add</span>:</p>
   <pre class="code-fence" md-src-pos="4666..5450"><code class="language-python" md-src-pos="4666..5450">
     <div class="code-fence-highlighter-copy-button" data-fence-content="ZnJvbSBzdGxpYjMucGh5c2ljcy5kZWZvcm1hYmxlIGltcG9ydCAuLmF1dG9saW5rOjpTVExJQjo6RWxhc3RpY01hdGVyaWFsT2JqZWN0CgpkZWYgRmluZ2VyKHBhcmVudE5vZGU9Tm9uZSwgbmFtZT0iRmluZ2VyIiwKICAgICAgICAgICByb3RhdGlvbj1bMC4wLCAwLjAsIDAuMF0sIHRyYW5zbGF0aW9uPVswLjAsIDAuMCwgMC4wXSk6CgogICAgZmluZ2VyID0gTm9kZShwYXJlbnROb2RlLCBuYW1lKQogICAgZW9iamVjdCA9IC4uYXV0b2xpbms6OlNUTElCOjpFbGFzdGljTWF0ZXJpYWxPYmplY3QoZmluZ2VyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9sdW1lTWVzaEZpbGVOYW1lPSJkYXRhL21lc2gvZmluZ2VyLnZ0ayIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2lzc29uUmF0aW89MC4zLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeW91bmdNb2R1bHVzPTE4MDAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxNYXNzPTAuNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cmZhY2VDb2xvcj1bMC4wLCAwLjgsIDAuN10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXJmYWNlTWVzaEZpbGVOYW1lPSJkYXRhL21lc2gvZmluZ2VyLnN0bCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbj1yb3RhdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uPXRyYW5zbGF0aW9uKQoKICAgIHJldHVybiBmaW5nZXIK">
    
      <img class="code-fence-highlighter-copy-button-icon">

     </div><span md-src-pos="4658..4668"></span><span md-src-pos="4668..4747"><span style="color: rgb(204, 120, 50);">from</span> stlib3.physics.deformable <span style="color: rgb(204, 120, 50);">import</span> ..autolink::STLIB::ElasticMaterialObject</span>
<span md-src-pos="4747..4748"></span>
<span md-src-pos="4748..4791"><span style="color: rgb(204, 120, 50);">def</span> Finger(parentNode=<span style="color: rgb(204, 120, 50);">None</span><span style="color: rgb(204, 120, 50);">,</span> name=<span style="color: rgb(106, 135, 89);">"Finger"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="4791..4858">           rotation=[<span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.0</span>]<span style="color: rgb(204, 120, 50);">,</span> translation=[<span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.0</span>]):</span>
<span md-src-pos="4858..4859"></span>
<span md-src-pos="4859..4895">    finger = Node(parentNode<span style="color: rgb(204, 120, 50);">,</span> name)</span>
<span md-src-pos="4895..4958">    eobject = ..autolink::STLIB::ElasticMaterialObject(finger<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="4958..5032">                               volumeMeshFileName=<span style="color: rgb(106, 135, 89);">"data/mesh/finger.vtk"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="5032..5081">                               poissonRatio=<span style="color: rgb(104, 151, 187);">0.3</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="5081..5132">                               youngModulus=<span style="color: rgb(104, 151, 187);">18000</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="5132..5178">                               totalMass=<span style="color: rgb(104, 151, 187);">0.5</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="5178..5239">                               surfaceColor=[<span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.8</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.7</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="5239..5314">                               surfaceMeshFileName=<span style="color: rgb(106, 135, 89);">"data/mesh/finger.stl"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="5314..5364">                               rotation=rotation<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="5364..5420">                               translation=translation)</span>
<span md-src-pos="5420..5421"></span>
<span md-src-pos="5421..5439">    <span style="color: rgb(204, 120, 50);">return</span> finger</span>
<span md-src-pos="5439..5440"></span><span md-src-pos="5439..5442"></span></code></pre>
   <div> 
    <pre><a href="details/step2.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="12px" data-original-src="../../../docs/images/icons/play.png"> Show me the result.</a>
<a href="myproject/finger.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="12px" data-original-src="../../../docs/images/icons/play.png"> Do it yourself.</a>
</pre> 
   </div> 
   <p md-src-pos="5695..6150"><span md-src-pos="5695..5771">If you run the scene you can see the tetrahedral mesh with blue-ish element.</span> <span md-src-pos="5772..5800">To control the visualization</span> <span md-src-pos="5801..5850">of this computation mesh you can either check the</span> "<span md-src-pos="5852..5864">Force Fields</span>" <span md-src-pos="5866..5883">option within the</span> <em md-src-pos="5884..5890">View</em> <span md-src-pos="5891..5915">panel in the runSofa GUI</span> <span md-src-pos="5916..5919">or,</span> <span md-src-pos="5920..5930">as we did,</span> <span md-src-pos="5931..5941">change the</span> <code md-src-pos="5942..5956">displayFlags</code> <span md-src-pos="5957..5972">property of the</span> <span md-src-pos="5973..5983">..autolink</span>::<span md-src-pos="5985..5989">Sofa</span>::<span md-src-pos="5991..6003">VisualStyle.</span> <span md-src-pos="6004..6034">In case you want to learn more</span> <span md-src-pos="6035..6104">about volumetric mesh generation there is a dedicated tutorial called</span> <span md-src-pos="6105..6115">..autolink</span>::<span md-src-pos="6117..6127">SoftRobots</span>::<span md-src-pos="6129..6133">Docs</span>::<span md-src-pos="6135..6150">MeshGeneration.</span></p>
   <p md-src-pos="6152..6300"><span md-src-pos="6152..6164">Still in the</span> <code md-src-pos="6165..6176">finger.py</code> <span md-src-pos="6177..6252">file we need to add a fixing box to avoid the free-falling the finger under</span> <span md-src-pos="6253..6261">gravity.</span> <span md-src-pos="6262..6299">This can be done in the following way</span>:</p>
   <p md-src-pos="6302..6339"><span md-src-pos="6302..6305">Let</span>'<span md-src-pos="6306..6319">s now work in</span> <code md-src-pos="6320..6331">finger.py</code> <span md-src-pos="6332..6338">to add</span>:</p>
   <pre class="code-fence" md-src-pos="6340..7265"><code class="language-python" md-src-pos="6340..7265">
     <div class="code-fence-highlighter-copy-button" data-fence-content="ZnJvbSBzdGxpYjMucGh5c2ljcy5jb25zdHJhaW50IGltcG9ydCBGaXhlZEJveAoKZGVmIEZpbmdlcihwYXJlbnROb2RlPU5vbmUsIG5hbWU9IkZpbmdlciIsCiAgICAgICAgICAgcm90YXRpb249WzAuMCwgMC4wLCAwLjBdLCB0cmFuc2xhdGlvbj1bMC4wLCAwLjAsIDAuMF0sCiAgICAgICAgICAgZml4aW5nQm94PVstMTAsLTEwLC0xMCwxMCwxMCwxMF0pOgoKICAgIGZpbmdlciA9IC4uYXV0b2xpbms6OlNUTElCOjpOb2RlKHBhcmVudE5vZGUsIG5hbWUpCiAgICBlb2JqZWN0ID0gLi5hdXRvbGluazo6U1RMSUI6OkVsYXN0aWNNYXRlcmlhbE9iamVjdChmaW5nZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2x1bWVNZXNoRmlsZU5hbWU9ImRhdGEvbWVzaC9maW5nZXIudnRrIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaXNzb25SYXRpbz0wLjMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5b3VuZ01vZHVsdXM9MTgwMDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbE1hc3M9MC41LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VyZmFjZUNvbG9yPVswLjAsIDAuOCwgMC43XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1cmZhY2VNZXNoRmlsZU5hbWU9ImRhdGEvbWVzaC9maW5nZXIuc3RsIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uPXJvdGF0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb249dHJhbnNsYXRpb24pCgogICAgLi5hdXRvbGluazo6U1RMSUI6OkZpeGVkQm94KGVvYmplY3QsIGF0UG9zaXRpb25zPWZpeGluZ0JveCwKICAgICAgICAgICAgICAgICAgICAgIGRvVmlzdWFsaXphdGlvbj1UcnVlKQoKICAgIHJldHVybiBmaW5nZXIK">
    
      <img class="code-fence-highlighter-copy-button-icon">

     </div><span md-src-pos="6332..6342"></span><span md-src-pos="6342..6389"><span style="color: rgb(204, 120, 50);">from</span> stlib3.physics.constraint <span style="color: rgb(204, 120, 50);">import</span> FixedBox</span>
<span md-src-pos="6389..6390"></span>
<span md-src-pos="6390..6433"><span style="color: rgb(204, 120, 50);">def</span> Finger(parentNode=<span style="color: rgb(204, 120, 50);">None</span><span style="color: rgb(204, 120, 50);">,</span> name=<span style="color: rgb(106, 135, 89);">"Finger"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="6433..6499">           rotation=[<span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.0</span>]<span style="color: rgb(204, 120, 50);">,</span> translation=[<span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.0</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="6499..6545">           fixingBox=[-<span style="color: rgb(104, 151, 187);">10</span><span style="color: rgb(204, 120, 50);">,</span>-<span style="color: rgb(104, 151, 187);">10</span><span style="color: rgb(204, 120, 50);">,</span>-<span style="color: rgb(104, 151, 187);">10</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">10</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">10</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">10</span>]):</span>
<span md-src-pos="6545..6546"></span>
<span md-src-pos="6546..6601">    finger = ..autolink::STLIB::Node(parentNode<span style="color: rgb(204, 120, 50);">,</span> name)</span>
<span md-src-pos="6601..6664">    eobject = ..autolink::STLIB::ElasticMaterialObject(finger<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="6664..6738">                               volumeMeshFileName=<span style="color: rgb(106, 135, 89);">"data/mesh/finger.vtk"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="6738..6787">                               poissonRatio=<span style="color: rgb(104, 151, 187);">0.3</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="6787..6838">                               youngModulus=<span style="color: rgb(104, 151, 187);">18000</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="6838..6884">                               totalMass=<span style="color: rgb(104, 151, 187);">0.5</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="6884..6945">                               surfaceColor=[<span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.8</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.7</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="6945..7020">                               surfaceMeshFileName=<span style="color: rgb(106, 135, 89);">"data/mesh/finger.stl"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="7020..7070">                               rotation=rotation<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="7070..7126">                               translation=translation)</span>
<span md-src-pos="7126..7127"></span>
<span md-src-pos="7127..7191">    ..autolink::STLIB::FixedBox(eobject<span style="color: rgb(204, 120, 50);">,</span> atPositions=fixingBox<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="7191..7235">                      doVisualization=<span style="color: rgb(204, 120, 50);">True</span>)</span>
<span md-src-pos="7235..7236"></span>
<span md-src-pos="7236..7254">    <span style="color: rgb(204, 120, 50);">return</span> finger</span>
<span md-src-pos="7254..7255"></span><span md-src-pos="7254..7257"></span></code></pre>
   <div> 
    <pre><a href="details/step2.2.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="16px" data-original-src="../../../docs/images/icons/play.png">Show me the result.</a>
<a href="myproject/finger.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="16px" data-original-src="../../../docs/images/icons/play.png">Do it yourself.</a>
</pre> 
   </div> 
   <h3 md-src-pos="7510..7568"><i>Comments (things to present or do in this step)</i></h3>
   <ul md-src-pos="7570..8695">
    <li md-src-pos="7570..7633"><p md-src-pos="7572..7633">Load the file <code md-src-pos="7586..7597">finger.py</code> in runSofa and in your text editor.</p></li>
    <li md-src-pos="7635..7722"><p md-src-pos="7637..7722">In <code md-src-pos="7640..7651">finger.py</code>, add an elastic object in a similar way to the one given in example 2.</p></li>
    <li md-src-pos="7724..7786"><p md-src-pos="7726..7786">Gives a small explanation of how the arguments are passed. s</p></li>
    <li md-src-pos="7788..7860"><p md-src-pos="7790..7860">Gives a small explanation of the role of the poisson ratio parameter. </p></li>
    <li md-src-pos="7862..7934"><p md-src-pos="7864..7934">Gives a small explanation of the role of the young modulus parameter. </p></li>
    <li md-src-pos="7936..8348"><p md-src-pos="7938..8348">Instead of displaying the tetrahedron mesh computational structure it is possible to wrap it into a visual model. This visual model can be of much higher visual quality and is deformed according to the deformation of the underlying mechanical mesh. To add such visual model you simply need to add <code md-src-pos="8235..8278">surfaceMeshFileName="data/mesh/finger.stl</code> to the ..autolink::STLIB::ElasticMaterialObject template's arguments.</p></li>
    <li md-src-pos="8350..8556"><p md-src-pos="8352..8556">In <code md-src-pos="8355..8366">finger.py</code> add a ..autolink::STLIB::FixedBox constraint to hold one of the finger extremities so that the object stops free-falling because of gravity. This should result in the following simulation:</p></li>
    <li md-src-pos="8558..8695"><p md-src-pos="8560..8695">In <code md-src-pos="8563..8574">finger.py</code> forward the different arguments specifying the position of the finger to the <code md-src-pos="8652..8675">ElasticMaterialObject</code> and the <code md-src-pos="8684..8694">FixedBox</code>.</p></li>
   </ul>
   <h2 md-src-pos="8698..8742">Step 3: Actuating the finger with a cable</h2>
   <p md-src-pos="8744..8950"><span md-src-pos="8744..8765">In the previous step,</span> <span md-src-pos="8766..8833">we showed how to add a finger shape object made of silicone rubber.</span> <span md-src-pos="8834..8929">We will now actuate it using a 1d inelastic cable attached to the fingertip and passing through</span> <span md-src-pos="8930..8950">the object geometry.</span></p>
   <p md-src-pos="8952..9104"><span md-src-pos="8952..8986">To model the cable you can use the</span> <span md-src-pos="8987..8997">..autolink</span>::<span md-src-pos="8999..9009">SoftRobots</span>::<span md-src-pos="9011..9037">PullingCable template from</span> <span md-src-pos="9038..9041">the</span> <span md-src-pos="9042..9052">..autolink</span>::<span md-src-pos="9054..9103">SoftRobots plugin and use it in the following way</span>:</p>
   <pre class="code-fence" md-src-pos="9105..9500"><code class="language-python" md-src-pos="9105..9500">
     <div class="code-fence-highlighter-copy-button" data-fence-content="IyMjIC4uLiBzaW1pbGFyIHRvIHByZXZpb3VzIHN0ZXAgLi4uLgpmcm9tIHNvZnRyb2JvdHMuYWN0dWF0b3JzIGltcG9ydCAuLmF1dG9saW5rOjpTb2Z0Um9ib3RzOjpQdWxsaW5nQ2FibGUKZnJvbSBzcGxpYjMubG9hZGVycyBpbXBvcnQgbG9hZFBvaW50TGlzdEZyb21GaWxlCgojIyMgLi4uIHNpbWlsYXIgdG8gcHJldmlvdXMgc3RlcCAuLi4uCmRlZiBGaW5nZXIocGFyZW50Tm9kZSk6CiAgICAjIyMgLi4uIHNpbWlsYXIgdG8gcHJldmlvdXMgc3RlcCAuLi4uCgogICAgY2FibGUgPSAuLmF1dG9saW5rOjpTb2Z0Um9ib3RzOjpQdWxsaW5nQ2FibGUoZW9iamVjdCwgY2FibGVHZW9tZXRyeT1sb2FkUG9pbnRMaXN0RnJvbUZpbGUoImRhdGEvbWVzaC9jYWJsZS5qc29uIikpCg==">
    
      <img class="code-fence-highlighter-copy-button-icon">

     </div><span md-src-pos="9097..9107"></span><span md-src-pos="9107..9145"><span style="color: rgb(128, 128, 128);">### ... similar to previous step ....</span></span>
<span md-src-pos="9145..9215"><span style="color: rgb(204, 120, 50);">from</span> softrobots.actuators <span style="color: rgb(204, 120, 50);">import</span> ..autolink::SoftRobots::PullingCable</span>
<span md-src-pos="9215..9264"><span style="color: rgb(204, 120, 50);">from</span> splib3.loaders <span style="color: rgb(204, 120, 50);">import</span> loadPointListFromFile</span>
<span md-src-pos="9264..9265"></span>
<span md-src-pos="9265..9303"><span style="color: rgb(128, 128, 128);">### ... similar to previous step ....</span></span>
<span md-src-pos="9303..9327"><span style="color: rgb(204, 120, 50);">def</span> Finger(parentNode):</span>
<span md-src-pos="9327..9369">    <span style="color: rgb(128, 128, 128);">### ... similar to previous step ....</span></span>
<span md-src-pos="9369..9370"></span>
<span md-src-pos="9370..9489">    cable = ..autolink::SoftRobots::PullingCable(eobject<span style="color: rgb(204, 120, 50);">,</span> cableGeometry=loadPointListFromFile(<span style="color: rgb(106, 135, 89);">"data/mesh/cable.json"</span>))</span>
<span md-src-pos="9489..9490"></span><span md-src-pos="9489..9492"></span></code></pre>
   <div> 
    <pre><a href="details/step3.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="12px" data-original-src="../../../docs/images/icons/play.png"> Show me the result.</a>
<a href="myproject/finger.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="12px" data-original-src="../../../docs/images/icons/play.png"> Do it yourself.</a>
</pre> 
   </div> 
   <p md-src-pos="9747..9950"><span md-src-pos="9747..9845">The cable has rest length that can be changed interactively using a dedicated python object called</span> <span md-src-pos="9847..9905">a python script controller to connect key pressed on ctrl+</span> <span md-src-pos="9906..9915">and ctrl-</span> <span md-src-pos="9916..9950">touch to a change of cable length.</span></p>
   <p md-src-pos="9952..10092"><span md-src-pos="9952..10011">You can create your own controllers by in-heriting from the</span> <code md-src-pos="10012..10034">Sofa.Core.Controller</code> <span md-src-pos="10035..10053">class and redefine</span> <span md-src-pos="10054..10057">the</span> <code md-src-pos="10058..10077">onKeypressedEvent</code> <span md-src-pos="10078..10085">method.</span> <span md-src-pos="10086..10091">As in</span>:</p>
   <pre class="code-fence" md-src-pos="10093..10722"><code class="language-python" md-src-pos="10093..10722">
     <div class="code-fence-highlighter-copy-button" data-fence-content="aW1wb3J0IFNvZmEuQ29yZQppbXBvcnQgU29mYS5jb25zdGFudHMuS2V5IGFzIEtleQoKY2xhc3MgRmluZ2VyQ29udHJvbGxlcihTb2ZhLkNvcmUuQ29udHJvbGxlcik6CiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICBTb2ZhLkNvcmUuQ29udHJvbGxlci5fX2luaXRfXyhzZWxmLCBhcmdzLCBrd2FyZ3MpCiAgICAgICAgc2VsZi5jYWJsZSA9IGFyZ3NbMF0KICAgICAgICBzZWxmLm5hbWUgPSAiRmluZ2VyQ29udHJvbGxlciIKCiAgICBkZWYgb25LZXlwcmVzc2VkRXZlbnQoc2VsZiwgZSk6CiAgICAgICAgZGlzcGxhY2VtZW50ID0gc2VsZi5jYWJsZS5DYWJsZUNvbnN0cmFpbnQudmFsdWVbMF0KICAgICAgICBpZiBlWyJrZXkiXSA9PSBLZXkucGx1czoKICAgICAgICAgICAgZGlzcGxhY2VtZW50ICs9IDEuCgogICAgICAgIGVsaWYgZVsia2V5Il0gPT0gS2V5Lm1pbnVzOgogICAgICAgICAgICBkaXNwbGFjZW1lbnQgLT0gMS4KICAgICAgICAgICAgaWYgZGlzcGxhY2VtZW50IDwgMDoKICAgICAgICAgICAgICAgIGRpc3BsYWNlbWVudCA9IDAKICAgICAgICBzZWxmLmNhYmxlLkNhYmxlQ29uc3RyYWludC52YWx1ZSA9IFtkaXNwbGFjZW1lbnRdCg==">
    
      <img class="code-fence-highlighter-copy-button-icon">

     </div><span md-src-pos="10085..10095"></span><span md-src-pos="10095..10112"><span style="color: rgb(204, 120, 50);">import</span> Sofa.Core</span>
<span md-src-pos="10112..10145"><span style="color: rgb(204, 120, 50);">import</span> Sofa.constants.Key <span style="color: rgb(204, 120, 50);">as</span> Key</span>
<span md-src-pos="10145..10146"></span>
<span md-src-pos="10146..10192"><span style="color: rgb(204, 120, 50);">class</span> FingerController(Sofa.Core.Controller):</span>
<span md-src-pos="10192..10233">    <span style="color: rgb(204, 120, 50);">def</span> __init__(self<span style="color: rgb(204, 120, 50);">,</span> *args<span style="color: rgb(204, 120, 50);">,</span> **kwargs):</span>
<span md-src-pos="10233..10291">        Sofa.Core.Controller.__init__(self<span style="color: rgb(204, 120, 50);">,</span> args<span style="color: rgb(204, 120, 50);">,</span> kwargs)</span>
<span md-src-pos="10291..10320">        self.cable = args[<span style="color: rgb(104, 151, 187);">0</span>]</span>
<span md-src-pos="10320..10359">        self.name = <span style="color: rgb(106, 135, 89);">"FingerController"</span></span>
<span md-src-pos="10359..10360"></span>
<span md-src-pos="10360..10396">    <span style="color: rgb(204, 120, 50);">def</span> onKeypressedEvent(self<span style="color: rgb(204, 120, 50);">,</span> e):</span>
<span md-src-pos="10396..10455">        displacement = self.cable.CableConstraint.value[<span style="color: rgb(104, 151, 187);">0</span>]</span>
<span md-src-pos="10455..10488">        <span style="color: rgb(204, 120, 50);">if</span> e[<span style="color: rgb(106, 135, 89);">"key"</span>] == Key.plus:</span>
<span md-src-pos="10488..10519">            displacement += <span style="color: rgb(104, 151, 187);">1.</span></span>
<span md-src-pos="10519..10520"></span>
<span md-src-pos="10520..10556">        <span style="color: rgb(204, 120, 50);">elif</span> e[<span style="color: rgb(106, 135, 89);">"key"</span>] == Key.minus:</span>
<span md-src-pos="10556..10587">            displacement -= <span style="color: rgb(104, 151, 187);">1.</span></span>
<span md-src-pos="10587..10620">            <span style="color: rgb(204, 120, 50);">if</span> displacement &lt; <span style="color: rgb(104, 151, 187);">0</span>:</span>
<span md-src-pos="10620..10653">                displacement = <span style="color: rgb(104, 151, 187);">0</span></span>
<span md-src-pos="10653..10711">        self.cable.CableConstraint.value = [displacement]</span>
<span md-src-pos="10711..10712"></span><span md-src-pos="10711..10714"></span></code></pre>
   <p md-src-pos="10724..10818"><span md-src-pos="10724..10773">The controller can then be attached to the object</span> <em md-src-pos="10774..10782">finger</em> <span md-src-pos="10783..10817">it is supposed to control by doing</span>:</p>
   <pre class="code-fence" md-src-pos="10819..11042"><code class="language-python" md-src-pos="10819..11042">
     <div class="code-fence-highlighter-copy-button" data-fence-content="ICAgICMgVGhpcyBjcmVhdGVzIGEgcHl0aG9uIHNjcmlwdCBjb250cm9sbGVyIHRoYXQgcGVybWl0cyB0byBwcm9ncmFtbWF0aWNhbGx5IGltcGxlbWVudCBuZXcgYmVoYXZpb3IKICAgICMgb3IgaW50ZXJhY3Rpb25zIHVzaW5nIHRoZSBQeXRob24gcHJvZ3JhbW1pbmcgbGFuZ3VhZ2UuIAogICAgZmluZ2VyLmFkZE9iamVjdChGaW5nZXJDb250cm9sbGVyKGNhYmxlKSkK">
    
      <img class="code-fence-highlighter-copy-button-icon">

     </div><span md-src-pos="10811..10821"></span><span md-src-pos="10821..10923">    <span style="color: rgb(128, 128, 128);"># This creates a python script controller that permits to programmatically implement new behavior</span></span>
<span md-src-pos="10923..10985">    <span style="color: rgb(128, 128, 128);"># or interactions using the Python programming language. </span></span>
<span md-src-pos="10985..11031">    finger.addObject(FingerController(cable))</span>
<span md-src-pos="11031..11032"></span><span md-src-pos="11031..11034"></span></code></pre>
   <div> 
    <pre><a href="details/step3.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="12px" data-original-src="../../../docs/images/icons/play.png"> Show me the result.</a>
<a href="myproject/finger.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="12px" data-original-src="../../../docs/images/icons/play.png"> Do it yourself.</a>
</pre> 
   </div> 
   <h3 md-src-pos="11288..11347"><i>Comments (things to present or do in this step) </i></h3>
   <ul md-src-pos="11349..11701">
    <li md-src-pos="11349..11428"><p md-src-pos="11351..11428">In <code md-src-pos="11355..11366">finger.py</code>, add the pulling cable to the finger as shown in the example.</p></li>
    <li md-src-pos="11430..11532"><p md-src-pos="11432..11532">In <code md-src-pos="11435..11456">fingercontroller.py</code> show there is some print in the console indicating that the key is pressed.</p></li>
    <li md-src-pos="11534..11701"><p md-src-pos="11536..11701">In <code md-src-pos="11539..11560">fingercontroller.py</code> add the code so that the cable length is changed on ky pressed with - and +. Implement the release of the cable when the key - is pressed.</p></li>
   </ul>
   <h2 md-src-pos="11703..11740">Step 4: Defining collision regions</h2>
   <p md-src-pos="11741..12195"><span md-src-pos="11741..11752">By default,</span> <span md-src-pos="11753..11763">Sofa doesn</span>'<span md-src-pos="11764..11821">t handle collision as they are very expensive to compute.</span> <span md-src-pos="11822..11873">To activate collisions you need to define specially</span> <span md-src-pos="11874..11947">the geometries for which collisions are checked and how they are handled.</span> <span md-src-pos="11948..11986">This can be done by adding a dedicated</span> <span md-src-pos="11987..12005">structure called a</span> <span md-src-pos="12006..12016">..autolink</span>::<span md-src-pos="12018..12023">STLIB</span>::<span md-src-pos="12025..12039">CollisionMesh.</span> <span md-src-pos="12041..12089">By default self-collision are not handled which,</span> <span md-src-pos="12090..12195">if the object is strongly deformable leads some undesirable behaviors as illustrated in the figure below.</span></p>
   <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1e96fd3d6f8c8e9f851efcc30d2bb3a2-NoCollisionRegions.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="350" data-original-src="images/NoCollisionRegions.png"> 
   <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/dd90a43d44803cba44b1c0cc2b12ff51-CollisionRegions2.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="350" data-original-src="images/CollisionRegions2.png"> 
   <p md-src-pos="12305..12410"><span md-src-pos="12305..12315">Additional</span> <span md-src-pos="12316..12326">..autolink</span>::<span md-src-pos="12328..12333">STLIB</span>::<span md-src-pos="12335..12400">CollisionMesh are required to precisely define the self-collision</span> <span md-src-pos="12401..12410">behavior.</span></p>
   <p md-src-pos="12412..12451"><span md-src-pos="12412..12449">The finger.py file should now contain</span> :</p>
   <pre class="code-fence" md-src-pos="12452..13130"><code class="language-python" md-src-pos="12452..13130">
     <div class="code-fence-highlighter-copy-button" data-fence-content="IyAuLi4gU2FtZSBpbXBvcnRzIGFzIGluIHN0ZXAgMyAuLi4KZnJvbSBzdGxpYjMucGh5c2ljcy5jb2xsaXNpb24gaW1wb3J0IC4uYXV0b2xpbms6OlNUTElCOjpDb2xsaXNpb25NZXNoCgojIC4uLiBTYW1lIGFzIGluIHN0ZXAgMyAuLi4KZGVmIEZpbmdlcihwYXJlbnROb2RlKToKICAgICMgLi4uIHRoZSBmaW5nZXIKICAgICMgLi4uIHRoZSBjYWJsZS4uCiAgICAjIC4uLiB0aGUgY29udHJvbGxlci4uCgogICAgLi5hdXRvbGluazo6U1RMSUI6OkNvbGxpc2lvbk1lc2goZW9iamVjdCwKICAgICAgICAgc3VyZmFjZU1lc2hGaWxlTmFtZT0iZGF0YS9tZXNoL2Zpbmdlci5zdGwiLCBuYW1lPSJwYXJ0MCIsIGNvbGxpc2lvbkdyb3VwPTEpCgoKICAgIC4uYXV0b2xpbms6OlNUTElCOjpDb2xsaXNpb25NZXNoKGVvYmplY3QsCiAgICAgICAgICAgICBzdXJmYWNlTWVzaEZpbGVOYW1lPSJkYXRhL21lc2gvZmluZ2VyQ29sbGlzaW9uX3BhcnQxLnN0bCIsIG5hbWU9InBhcnQxIiwgY29sbGlzaW9uR3JvdXA9MSkKCiAgICAuLmF1dG9saW5rOjpTVExJQjo6Q29sbGlzaW9uTWVzaChlb2JqZWN0LAogICAgICAgICAgICAgIHN1cmZhY2VNZXNoRmlsZU5hbWU9ImRhdGEvbWVzaC9maW5nZXJDb2xsaXNpb25fcGFydDIuc3RsIiwgbmFtZT0icGFydDIiLCBjb2xsaXNpb25Hcm91cD0yKQo=">
    
      <img class="code-fence-highlighter-copy-button-icon">

     </div><span md-src-pos="12444..12454"></span><span md-src-pos="12454..12490"><span style="color: rgb(128, 128, 128);"># ... Same imports as in step 3 ...</span></span>
<span md-src-pos="12490..12560"><span style="color: rgb(204, 120, 50);">from</span> stlib3.physics.collision <span style="color: rgb(204, 120, 50);">import</span> ..autolink::STLIB::CollisionMesh</span>
<span md-src-pos="12560..12561"></span>
<span md-src-pos="12561..12589"><span style="color: rgb(128, 128, 128);"># ... Same as in step 3 ...</span></span>
<span md-src-pos="12589..12613"><span style="color: rgb(204, 120, 50);">def</span> Finger(parentNode):</span>
<span md-src-pos="12613..12634">    <span style="color: rgb(128, 128, 128);"># ... the finger</span></span>
<span md-src-pos="12634..12656">    <span style="color: rgb(128, 128, 128);"># ... the cable..</span></span>
<span md-src-pos="12656..12683">    <span style="color: rgb(128, 128, 128);"># ... the controller..</span></span>
<span md-src-pos="12683..12684"></span>
<span md-src-pos="12684..12730">    ..autolink::STLIB::CollisionMesh(eobject<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="12730..12815">         surfaceMeshFileName=<span style="color: rgb(106, 135, 89);">"data/mesh/finger.stl"</span><span style="color: rgb(204, 120, 50);">,</span> name=<span style="color: rgb(106, 135, 89);">"part0"</span><span style="color: rgb(204, 120, 50);">,</span> collisionGroup=<span style="color: rgb(104, 151, 187);">1</span>)</span>
<span md-src-pos="12815..12816"></span>
<span md-src-pos="12816..12817"></span>
<span md-src-pos="12817..12863">    ..autolink::STLIB::CollisionMesh(eobject<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="12863..12967">             surfaceMeshFileName=<span style="color: rgb(106, 135, 89);">"data/mesh/fingerCollision_part1.stl"</span><span style="color: rgb(204, 120, 50);">,</span> name=<span style="color: rgb(106, 135, 89);">"part1"</span><span style="color: rgb(204, 120, 50);">,</span> collisionGroup=<span style="color: rgb(104, 151, 187);">1</span>)</span>
<span md-src-pos="12967..12968"></span>
<span md-src-pos="12968..13014">    ..autolink::STLIB::CollisionMesh(eobject<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="13014..13119">              surfaceMeshFileName=<span style="color: rgb(106, 135, 89);">"data/mesh/fingerCollision_part2.stl"</span><span style="color: rgb(204, 120, 50);">,</span> name=<span style="color: rgb(106, 135, 89);">"part2"</span><span style="color: rgb(204, 120, 50);">,</span> collisionGroup=<span style="color: rgb(104, 151, 187);">2</span>)</span>
<span md-src-pos="13119..13120"></span><span md-src-pos="13119..13122"></span></code></pre>
   <div> 
    <pre><a href="details/step4.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="16px" data-original-src="../../../docs/images/icons/play.png">Show me the result.</a>
<a href="myproject/finger.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="16px" data-original-src="../../../docs/images/icons/play.png">Do it yourself.</a>
</pre> 
   </div> 
   <p md-src-pos="13373..13704"><span md-src-pos="13373..13376">The</span> <span md-src-pos="13377..13387">..autolink</span>::<span md-src-pos="13389..13394">STLIB</span>::<span md-src-pos="13396..13431">CollisionMesh are set of triangles,</span> <span md-src-pos="13432..13471">each set can be part of one or multiple</span> <span md-src-pos="13472..13488">collision group.</span> <span md-src-pos="13489..13501">By using the</span> <em md-src-pos="13502..13520">"collisionGroup"</em> <span md-src-pos="13521..13566">option you can specify the group of which the</span> <span md-src-pos="13567..13577">..autolink</span>::<span md-src-pos="13579..13584">STLIB</span>::<span md-src-pos="13586..13610">CollisionMesh belong to.</span> <span md-src-pos="13611..13667">Triangle from different collision groupes are tested for</span> <span md-src-pos="13669..13704">intersections and contact handling.</span></p>
   <h3 md-src-pos="13706..13764"><i>Comments (things to present or do in this step)</i></h3>
   <ul md-src-pos="13766..13996">
    <li md-src-pos="13766..13835"><p md-src-pos="13768..13835">Explain the import of the CollisionMesh (if it was not done before)</p></li>
    <li md-src-pos="13837..13870"><p md-src-pos="13839..13870">Explain the load of the mesh...</p></li>
    <li md-src-pos="13872..13954"><p md-src-pos="13874..13954">Explain the role of collision group. Object in two different groups can collide.</p></li>
    <li md-src-pos="13956..13996"><p md-src-pos="13958..13996">Explain the contactDistance parameters</p></li>
   </ul>
   <h2 md-src-pos="13999..14059">Step 5: Duplicating the finger to make a complete gripper</h2>
   <p md-src-pos="14060..14204"><span md-src-pos="14060..14162">Now we have a working single finger we can duplicate it so that it can match the original soft gripper</span> <span md-src-pos="14163..14204">robot design that contains three of them.</span></p>
   <p md-src-pos="14206..14264"><img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/0027c22bf2f3a107cd1fa324d7a755dd-gripper.png?_ijt=41mnngsq3k7928tnmqr2v674ls" alt="The soft gripper with three fingers" __idea-generated="true" md-src-pos="14206..14264" data-original-src="file:/home/eulalie/Softs/SOFA/plugins/SoftRobots/docs/sofapython3/tutorials/CableGripper/images/gripper.png"></p>
   <p md-src-pos="14266..14337"><span md-src-pos="14266..14283">At this point the</span> <code md-src-pos="14284..14295">finger.py</code> <span md-src-pos="14296..14336">file should contain something similar to</span>:</p>
   <pre class="code-fence" md-src-pos="14338..17358"><code class="language-python" md-src-pos="14338..17358">
     <div class="code-fence-highlighter-copy-button" data-fence-content="IyAtKi0gY29kaW5nOiB1dGYtOCAtKi0KaW1wb3J0IFNvZmEuQ29yZQppbXBvcnQgU29mYS5jb25zdGFudHMuS2V5IGFzIEtleQpmcm9tIHN0bGliMy5zY2VuZSBpbXBvcnQgLi5hdXRvbGluazo6U1RMSUI6Ok5vZGUKZnJvbSBzdGxpYjMucGh5c2ljcy5kZWZvcm1hYmxlIGltcG9ydCAuLmF1dG9saW5rOjpTVExJQjo6RWxhc3RpY01hdGVyaWFsT2JqZWN0CmZyb20gc3RsaWIzLnBoeXNpY3MuY29uc3RyYWludHMgaW1wb3J0IC4uYXV0b2xpbms6OlNUTElCOjpGaXhlZEJveApmcm9tIHN0bGliMy5waHlzaWNzLmNvbGxpc2lvbiBpbXBvcnQgLi5hdXRvbGluazo6U1RMSUI6OkNvbGxpc2lvbk1lc2gKZnJvbSBzcGxpYjMubG9hZGVycyBpbXBvcnQgbG9hZFBvaW50TGlzdEZyb21GaWxlCmZyb20gc29mdHJvYm90cy5hY3R1YXRvcnMgaW1wb3J0IC4uYXV0b2xpbms6OlNvZnRSb2JvdHM6OlB1bGxpbmdDYWJsZQoKY2xhc3MgRmluZ2VyQ29udHJvbGxlcihTb2ZhLkNvcmUuQ29udHJvbGxlcik6CiAgICBkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MsICoqa3dhcmdzKToKICAgICAgICBTb2ZhLkNvcmUuQ29udHJvbGxlci5fX2luaXRfXyhzZWxmLGFyZ3Msa3dhcmdzKQogICAgICAgIHNlbGYuY2FibGUgPSBhcmdzWzBdCiAgICAgICAgc2VsZi5uYW1lID0gIkZpbmdlckNvbnRyb2xsZXIiCgogICAgZGVmIG9uS2V5cHJlc3NlZEV2ZW50KHNlbGYsIGUpOgogICAgICAgIGRpc3BsYWNlbWVudCA9IHNlbGYuY2FibGUuQ2FibGVDb25zdHJhaW50LnZhbHVlWzBdCiAgICAgICAgaWYgZVsia2V5Il0gPT0gS2V5LnBsdXM6CiAgICAgICAgICAgIGRpc3BsYWNlbWVudCArPSAxLgoKICAgICAgICBlbGlmIGVbImtleSJdID09IEtleS5taW51czoKICAgICAgICAgICAgZGlzcGxhY2VtZW50IC09IDEuCiAgICAgICAgICAgIGlmIGRpc3BsYWNlbWVudCA8IDA6CiAgICAgICAgICAgICAgICBkaXNwbGFjZW1lbnQgPSAwCiAgICAgICAgc2VsZi5jYWJsZS5DYWJsZUNvbnN0cmFpbnQudmFsdWUgPSBbZGlzcGxhY2VtZW50XQoKZGVmIEZpbmdlcihwYXJlbnROb2RlPU5vbmUsIG5hbWU9IkZpbmdlciIsCiAgICAgICAgICAgcm90YXRpb249WzAuMCwgMC4wLCAwLjBdLCB0cmFuc2xhdGlvbj1bMC4wLCAwLjAsIDAuMF0sCiAgICAgICAgICAgZml4aW5nQm94PVstMTAuMCwtMTAuMCwtMTAuMCwxMC4wLDEwLjAsMTAuMF0sIHB1bGxQb2ludExvY2F0aW9uPVswLjAsMC4wLDAuMF0pOgoKICAgIGZpbmdlciA9IC4uYXV0b2xpbms6OlNUTElCOjpOb2RlKHBhcmVudE5vZGUsIG5hbWUpCiAgICBlb2JqZWN0ID0gLi5hdXRvbGluazo6U1RMSUI6OkVsYXN0aWNNYXRlcmlhbE9iamVjdChmaW5nZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9sdW1lTWVzaEZpbGVOYW1lPSJkYXRhL21lc2gvZmluZ2VyLnZ0ayIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pc3NvblJhdGlvPTAuMywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5b3VuZ01vZHVsdXM9MTAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsTWFzcz0wLjUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VyZmFjZUNvbG9yPVswLjAsIDAuOCwgMC43XSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXJmYWNlTWVzaEZpbGVOYW1lPSJkYXRhL21lc2gvZmluZ2VyLnN0bCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb249cm90YXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb249dHJhbnNsYXRpb24pCgogICAgLi5hdXRvbGluazo6U1RMSUI6OkZpeGVkQm94KGVvYmplY3QsIGF0UG9zaXRpb25zPWZpeGluZ0JveCwgZG9WaXN1YWxpemF0aW9uPVRydWUpCgogICAgY2FibGU9Li5hdXRvbGluazo6U29mdFJvYm90czo6UHVsbGluZ0NhYmxlKGVvYmplY3QsCiAgICAgICAgICAgICAgICAgIlB1bGxpbmdDYWJsZSIsCiAgICAgICAgICAgICAgICAgcHVsbFBvaW50TG9jYXRpb249cHVsbFBvaW50TG9jYXRpb24sCiAgICAgICAgICAgICAgICAgcm90YXRpb249cm90YXRpb24sCiAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb249dHJhbnNsYXRpb24sCiAgICAgICAgICAgICAgICAgY2FibGVHZW9tZXRyeT1sb2FkUG9pbnRMaXN0RnJvbUZpbGUoImRhdGEvbWVzaC9jYWJsZS5qc29uIikpOwoKICAgIEZpbmdlckNvbnRyb2xsZXIoZW9iamVjdCwgY2FibGUpCgogICAgLi5hdXRvbGluazo6U1RMSUI6OkNvbGxpc2lvbk1lc2goZW9iamVjdCwgbmFtZT0iQ29sbGlzaW9uTWVzaCIsCiAgICAgICAgICAgICAgICAgc3VyZmFjZU1lc2hGaWxlTmFtZT0iZGF0YS9tZXNoL2Zpbmdlci5zdGwiLAogICAgICAgICAgICAgICAgIHJvdGF0aW9uPXJvdGF0aW9uLCB0cmFuc2xhdGlvbj10cmFuc2xhdGlvbiwKICAgICAgICAgICAgICAgICBjb2xsaXNpb25Hcm91cD1bMSwgMl0pCgogICAgLi5hdXRvbGluazo6U1RMSUI6OkNvbGxpc2lvbk1lc2goZW9iamVjdCwgbmFtZT0iQ29sbGlzaW9uTWVzaEF1dG8xIiwKICAgICAgICAgICAgICAgICBzdXJmYWNlTWVzaEZpbGVOYW1lPSJkYXRhL21lc2gvZmluZ2VyQ29sbGlzaW9uX3BhcnQxLnN0bCIsCiAgICAgICAgICAgICAgICAgcm90YXRpb249cm90YXRpb24sIHRyYW5zbGF0aW9uPXRyYW5zbGF0aW9uLAogICAgICAgICAgICAgICAgIGNvbGxpc2lvbkdyb3VwPVsxXSkKCiAgICAuLmF1dG9saW5rOjpTVExJQjo6Q29sbGlzaW9uTWVzaChlb2JqZWN0LCBuYW1lPSJDb2xsaXNpb25NZXNoQXV0bzIiLAogICAgICAgICAgICAgICAgIHN1cmZhY2VNZXNoRmlsZU5hbWU9ImRhdGEvbWVzaC9maW5nZXJDb2xsaXNpb25fcGFydDIuc3RsIiwKICAgICAgICAgICAgICAgICByb3RhdGlvbj1yb3RhdGlvbiwgdHJhbnNsYXRpb249dHJhbnNsYXRpb24sCiAgICAgICAgICAgICAgICAgY29sbGlzaW9uR3JvdXA9WzJdKQoKCiAgICByZXR1cm4gZmluZ2VyCg==">
    
      <img class="code-fence-highlighter-copy-button-icon">

     </div><span md-src-pos="14330..14340"></span><span md-src-pos="14340..14364"><span style="color: rgb(128, 128, 128);"># -*- coding: utf-8 -*-</span></span>
<span md-src-pos="14364..14381"><span style="color: rgb(204, 120, 50);">import</span> Sofa.Core</span>
<span md-src-pos="14381..14414"><span style="color: rgb(204, 120, 50);">import</span> Sofa.constants.Key <span style="color: rgb(204, 120, 50);">as</span> Key</span>
<span md-src-pos="14414..14463"><span style="color: rgb(204, 120, 50);">from</span> stlib3.scene <span style="color: rgb(204, 120, 50);">import</span> ..autolink::STLIB::Node</span>
<span md-src-pos="14463..14542"><span style="color: rgb(204, 120, 50);">from</span> stlib3.physics.deformable <span style="color: rgb(204, 120, 50);">import</span> ..autolink::STLIB::ElasticMaterialObject</span>
<span md-src-pos="14542..14609"><span style="color: rgb(204, 120, 50);">from</span> stlib3.physics.constraints <span style="color: rgb(204, 120, 50);">import</span> ..autolink::STLIB::FixedBox</span>
<span md-src-pos="14609..14679"><span style="color: rgb(204, 120, 50);">from</span> stlib3.physics.collision <span style="color: rgb(204, 120, 50);">import</span> ..autolink::STLIB::CollisionMesh</span>
<span md-src-pos="14679..14728"><span style="color: rgb(204, 120, 50);">from</span> splib3.loaders <span style="color: rgb(204, 120, 50);">import</span> loadPointListFromFile</span>
<span md-src-pos="14728..14798"><span style="color: rgb(204, 120, 50);">from</span> softrobots.actuators <span style="color: rgb(204, 120, 50);">import</span> ..autolink::SoftRobots::PullingCable</span>
<span md-src-pos="14798..14799"></span>
<span md-src-pos="14799..14845"><span style="color: rgb(204, 120, 50);">class</span> FingerController(Sofa.Core.Controller):</span>
<span md-src-pos="14845..14886">    <span style="color: rgb(204, 120, 50);">def</span> __init__(self<span style="color: rgb(204, 120, 50);">,</span> *args<span style="color: rgb(204, 120, 50);">,</span> **kwargs):</span>
<span md-src-pos="14886..14942">        Sofa.Core.Controller.__init__(self<span style="color: rgb(204, 120, 50);">,</span>args<span style="color: rgb(204, 120, 50);">,</span>kwargs)</span>
<span md-src-pos="14942..14971">        self.cable = args[<span style="color: rgb(104, 151, 187);">0</span>]</span>
<span md-src-pos="14971..15010">        self.name = <span style="color: rgb(106, 135, 89);">"FingerController"</span></span>
<span md-src-pos="15010..15011"></span>
<span md-src-pos="15011..15047">    <span style="color: rgb(204, 120, 50);">def</span> onKeypressedEvent(self<span style="color: rgb(204, 120, 50);">,</span> e):</span>
<span md-src-pos="15047..15106">        displacement = self.cable.CableConstraint.value[<span style="color: rgb(104, 151, 187);">0</span>]</span>
<span md-src-pos="15106..15139">        <span style="color: rgb(204, 120, 50);">if</span> e[<span style="color: rgb(106, 135, 89);">"key"</span>] == Key.plus:</span>
<span md-src-pos="15139..15170">            displacement += <span style="color: rgb(104, 151, 187);">1.</span></span>
<span md-src-pos="15170..15171"></span>
<span md-src-pos="15171..15207">        <span style="color: rgb(204, 120, 50);">elif</span> e[<span style="color: rgb(106, 135, 89);">"key"</span>] == Key.minus:</span>
<span md-src-pos="15207..15238">            displacement -= <span style="color: rgb(104, 151, 187);">1.</span></span>
<span md-src-pos="15238..15271">            <span style="color: rgb(204, 120, 50);">if</span> displacement &lt; <span style="color: rgb(104, 151, 187);">0</span>:</span>
<span md-src-pos="15271..15304">                displacement = <span style="color: rgb(104, 151, 187);">0</span></span>
<span md-src-pos="15304..15362">        self.cable.CableConstraint.value = [displacement]</span>
<span md-src-pos="15362..15363"></span>
<span md-src-pos="15363..15406"><span style="color: rgb(204, 120, 50);">def</span> Finger(parentNode=<span style="color: rgb(204, 120, 50);">None</span><span style="color: rgb(204, 120, 50);">,</span> name=<span style="color: rgb(106, 135, 89);">"Finger"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="15406..15472">           rotation=[<span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.0</span>]<span style="color: rgb(204, 120, 50);">,</span> translation=[<span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.0</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="15472..15563">           fixingBox=[-<span style="color: rgb(104, 151, 187);">10.0</span><span style="color: rgb(204, 120, 50);">,</span>-<span style="color: rgb(104, 151, 187);">10.0</span><span style="color: rgb(204, 120, 50);">,</span>-<span style="color: rgb(104, 151, 187);">10.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">10.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">10.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">10.0</span>]<span style="color: rgb(204, 120, 50);">,</span> pullPointLocation=[<span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span>]):</span>
<span md-src-pos="15563..15564"></span>
<span md-src-pos="15564..15619">    finger = ..autolink::STLIB::Node(parentNode<span style="color: rgb(204, 120, 50);">,</span> name)</span>
<span md-src-pos="15619..15682">    eobject = ..autolink::STLIB::ElasticMaterialObject(finger<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="15682..15760">                                   volumeMeshFileName=<span style="color: rgb(106, 135, 89);">"data/mesh/finger.vtk"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="15760..15813">                                   poissonRatio=<span style="color: rgb(104, 151, 187);">0.3</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="15813..15866">                                   youngModulus=<span style="color: rgb(104, 151, 187);">100</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="15866..15916">                                   totalMass=<span style="color: rgb(104, 151, 187);">0.5</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="15916..15981">                                   surfaceColor=[<span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.8</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.7</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="15981..16060">                                   surfaceMeshFileName=<span style="color: rgb(106, 135, 89);">"data/mesh/finger.stl"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="16060..16114">                                   rotation=rotation<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="16114..16174">                                   translation=translation)</span>
<span md-src-pos="16174..16175"></span>
<span md-src-pos="16175..16261">    ..autolink::STLIB::FixedBox(eobject<span style="color: rgb(204, 120, 50);">,</span> atPositions=fixingBox<span style="color: rgb(204, 120, 50);">,</span> doVisualization=<span style="color: rgb(204, 120, 50);">True</span>)</span>
<span md-src-pos="16261..16262"></span>
<span md-src-pos="16262..16318">    cable=..autolink::SoftRobots::PullingCable(eobject<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="16318..16351">                 <span style="color: rgb(106, 135, 89);">"PullingCable"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="16351..16405">                 pullPointLocation=pullPointLocation<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="16405..16441">                 rotation=rotation<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="16441..16483">                 translation=translation<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="16483..16562">                 cableGeometry=loadPointListFromFile(<span style="color: rgb(106, 135, 89);">"data/mesh/cable.json"</span>));</span>
<span md-src-pos="16562..16563"></span>
<span md-src-pos="16563..16600">    FingerController(eobject<span style="color: rgb(204, 120, 50);">,</span> cable)</span>
<span md-src-pos="16600..16601"></span>
<span md-src-pos="16601..16669">    ..autolink::STLIB::CollisionMesh(eobject<span style="color: rgb(204, 120, 50);">,</span> name=<span style="color: rgb(106, 135, 89);">"CollisionMesh"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="16669..16730">                 surfaceMeshFileName=<span style="color: rgb(106, 135, 89);">"data/mesh/finger.stl"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="16730..16791">                 rotation=rotation<span style="color: rgb(204, 120, 50);">,</span> translation=translation<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="16791..16831">                 collisionGroup=[<span style="color: rgb(104, 151, 187);">1</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">2</span>])</span>
<span md-src-pos="16831..16832"></span>
<span md-src-pos="16832..16905">    ..autolink::STLIB::CollisionMesh(eobject<span style="color: rgb(204, 120, 50);">,</span> name=<span style="color: rgb(106, 135, 89);">"CollisionMeshAuto1"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="16905..16981">                 surfaceMeshFileName=<span style="color: rgb(106, 135, 89);">"data/mesh/fingerCollision_part1.stl"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="16981..17042">                 rotation=rotation<span style="color: rgb(204, 120, 50);">,</span> translation=translation<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="17042..17079">                 collisionGroup=[<span style="color: rgb(104, 151, 187);">1</span>])</span>
<span md-src-pos="17079..17080"></span>
<span md-src-pos="17080..17153">    ..autolink::STLIB::CollisionMesh(eobject<span style="color: rgb(204, 120, 50);">,</span> name=<span style="color: rgb(106, 135, 89);">"CollisionMeshAuto2"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="17153..17229">                 surfaceMeshFileName=<span style="color: rgb(106, 135, 89);">"data/mesh/fingerCollision_part2.stl"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="17229..17290">                 rotation=rotation<span style="color: rgb(204, 120, 50);">,</span> translation=translation<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="17290..17327">                 collisionGroup=[<span style="color: rgb(104, 151, 187);">2</span>])</span>
<span md-src-pos="17327..17328"></span>
<span md-src-pos="17328..17329"></span>
<span md-src-pos="17329..17347">    <span style="color: rgb(204, 120, 50);">return</span> finger</span>
<span md-src-pos="17347..17348"></span><span md-src-pos="17347..17350"></span></code></pre>
   <p md-src-pos="17360..17397"><span md-src-pos="17360..17368">The file</span> <code md-src-pos="17369..17381">gripper.py</code> <span md-src-pos="17382..17396">should contain</span>:</p>
   <pre class="code-fence" md-src-pos="17398..18248"><code md-src-pos="17398..18248" class="language-python">
     <div class="code-fence-highlighter-copy-button" data-fence-content="ZnJvbSBncmlwcGVyY29udHJvbGxlciBpbXBvcnQgR3JpcHBlckNvbnRyb2xsZXIKZnJvbSBmaW5nZXIgaW1wb3J0IEZpbmdlcgoKZGVmIEdyaXBwZXIocGFyZW50Tm9kZT1Ob25lKToKICAgIHNlbGZOb2RlID0gcGFyZW50Tm9kZS5jcmVhdGVDaGlsZCgiR3JpcHBlciIpCgogICAgZjEgPSBGaW5nZXIoc2VsZk5vZGUsICJGaW5nZXIxIiwKICAgICAgICAgICByb3RhdGlvbj1bMCwgMCwgMTA1XSwKICAgICAgICAgICB0cmFuc2xhdGlvbj1bMjAuMCwwLjAsIDAuMF0sCiAgICAgICAgICAgZml4aW5nQm94PVstMjAsIC0xMCwgMCwgMjAsIDEwLCAxNV0sCiAgICAgICAgICAgcHVsbFBvaW50TG9jYXRpb249WzMsIDEwLjUsIDNdKQoKICAgIGYyID0gRmluZ2VyKHNlbGZOb2RlLCAiRmluZ2VyMiIsCiAgICAgICAgICAgcm90YXRpb249WzE4MCwgMCwgNjVdLAogICAgICAgICAgIHRyYW5zbGF0aW9uPVstMTAuMCwwLjAsIC00LjBdLAogICAgICAgICAgIGZpeGluZ0JveD1bLTIwLCAtMTAsIC0zMCwgMjAsIDEwLCAwXSwKICAgICAgICAgICBwdWxsUG9pbnRMb2NhdGlvbj1bMywgMTAuNSwgLTddKQoKICAgIGYzID0gRmluZ2VyKHNlbGZOb2RlLCAiRmluZ2VyMyIsCiAgICAgICAgICAgcm90YXRpb249WzE4MCwgMCwgNjVdLAogICAgICAgICAgIHRyYW5zbGF0aW9uPVstMTAuMCwwLjAsIDM0LjBdLAogICAgICAgICAgIGZpeGluZ0JveD1bLTIwLCAtMTAsIDAsIDIwLCAxMCwgNTBdLAogICAgICAgICAgIHB1bGxQb2ludExvY2F0aW9uPVszLCAxMC41LCAzMS41XSkKCiAgICBHcmlwcGVyQ29udHJvbGxlcihzZWxmTm9kZSwgW2YxLGYyLGYzXSkKCiAgICByZXR1cm4gc2VsZk5vZGUK">
    
      <img class="code-fence-highlighter-copy-button-icon">

     </div><span md-src-pos="17390..17400"></span><span md-src-pos="17400..17448"><span style="color: rgb(204, 120, 50);">from</span> grippercontroller <span style="color: rgb(204, 120, 50);">import</span> GripperController</span>
<span md-src-pos="17448..17474"><span style="color: rgb(204, 120, 50);">from</span> finger <span style="color: rgb(204, 120, 50);">import</span> Finger</span>
<span md-src-pos="17474..17475"></span>
<span md-src-pos="17475..17505"><span style="color: rgb(204, 120, 50);">def</span> Gripper(parentNode=<span style="color: rgb(204, 120, 50);">None</span>):</span>
<span md-src-pos="17505..17554">    selfNode = parentNode.createChild(<span style="color: rgb(106, 135, 89);">"Gripper"</span>)</span>
<span md-src-pos="17554..17555"></span>
<span md-src-pos="17555..17592">    f1 = Finger(selfNode<span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(106, 135, 89);">"Finger1"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="17592..17625">           rotation=[<span style="color: rgb(104, 151, 187);">0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">105</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="17625..17665">           translation=[<span style="color: rgb(104, 151, 187);">20.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.0</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="17665..17713">           fixingBox=[-<span style="color: rgb(104, 151, 187);">20</span><span style="color: rgb(204, 120, 50);">,</span> -<span style="color: rgb(104, 151, 187);">10</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">20</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">10</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">15</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="17713..17756">           pullPointLocation=[<span style="color: rgb(104, 151, 187);">3</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">10.5</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">3</span>])</span>
<span md-src-pos="17756..17757"></span>
<span md-src-pos="17757..17794">    f2 = Finger(selfNode<span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(106, 135, 89);">"Finger2"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="17794..17828">           rotation=[<span style="color: rgb(104, 151, 187);">180</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">65</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="17828..17870">           translation=[-<span style="color: rgb(104, 151, 187);">10.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> -<span style="color: rgb(104, 151, 187);">4.0</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="17870..17919">           fixingBox=[-<span style="color: rgb(104, 151, 187);">20</span><span style="color: rgb(204, 120, 50);">,</span> -<span style="color: rgb(104, 151, 187);">10</span><span style="color: rgb(204, 120, 50);">,</span> -<span style="color: rgb(104, 151, 187);">30</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">20</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">10</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="17919..17963">           pullPointLocation=[<span style="color: rgb(104, 151, 187);">3</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">10.5</span><span style="color: rgb(204, 120, 50);">,</span> -<span style="color: rgb(104, 151, 187);">7</span>])</span>
<span md-src-pos="17963..17964"></span>
<span md-src-pos="17964..18001">    f3 = Finger(selfNode<span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(106, 135, 89);">"Finger3"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="18001..18035">           rotation=[<span style="color: rgb(104, 151, 187);">180</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">65</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="18035..18077">           translation=[-<span style="color: rgb(104, 151, 187);">10.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">34.0</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="18077..18125">           fixingBox=[-<span style="color: rgb(104, 151, 187);">20</span><span style="color: rgb(204, 120, 50);">,</span> -<span style="color: rgb(104, 151, 187);">10</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">20</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">10</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">50</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="18125..18171">           pullPointLocation=[<span style="color: rgb(104, 151, 187);">3</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">10.5</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">31.5</span>])</span>
<span md-src-pos="18171..18172"></span>
<span md-src-pos="18172..18216">    GripperController(selfNode<span style="color: rgb(204, 120, 50);">,</span> [f1<span style="color: rgb(204, 120, 50);">,</span>f2<span style="color: rgb(204, 120, 50);">,</span>f3])</span>
<span md-src-pos="18216..18217"></span>
<span md-src-pos="18217..18237">    <span style="color: rgb(204, 120, 50);">return</span> selfNode</span>
<span md-src-pos="18237..18238"></span><span md-src-pos="18237..18240"></span></code></pre>
   <div> 
    <pre><a href="details/step5.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="16px" data-original-src="../../../docs/images/icons/play.png">Show me the result.</a>
<a href="myproject/gripper.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="16px" data-original-src="../../../docs/images/icons/play.png">Do it yourself.</a>
</pre> 
   </div> 
   <h3 md-src-pos="18492..18550"><i>Comments (things to present or do in this step)</i></h3>
   <ul md-src-pos="18552..19192">
    <li md-src-pos="18552..18768"><p md-src-pos="18554..18768">In <code md-src-pos="18557..18569">gripper.py</code>, show how to add one finger at default position and location. Do not forget that you can start Sofa with the -i option for an automatic reload of the gripper.py each time the source file is changed.</p></li>
    <li md-src-pos="18770..19067"><p md-src-pos="18772..19067">In <code md-src-pos="18775..18787">gripper.py</code>, duplicate the Finger object and change the location, orientation and fixing point so that it match the desired robot geometry of the gripper. Do not forget that you can start Sofa with the -i option for an automatic reload of the gripper.py each time the source file is changed.</p></li>
    <li md-src-pos="19069..19192"><p md-src-pos="19071..19192">Attach the GripperController to the Gripper object. So that when you press CTRL+UP/DOWN/LEFT/RIGHT the gripper is moving.</p></li>
   </ul>
   <h2 md-src-pos="19195..19248">Step 6: Putting everything in a single simulation.</h2>
   <p md-src-pos="19251..19366"><span md-src-pos="19251..19259">Open the</span> <code md-src-pos="19260..19277">cablegripper.py</code> <span md-src-pos="19278..19295">and add the Cube,</span> <span md-src-pos="19296..19365">the Floor and the Gripper which should result in something similar to</span>:</p>
   <pre class="code-fence" md-src-pos="19368..20321"><code class="language-python" md-src-pos="19368..20321">
     <div class="code-fence-highlighter-copy-button" data-fence-content="ZnJvbSBzdGxpYjMuc2NlbmUgaW1wb3J0IC4uYXV0b2xpbms6OlNUTElCOjpNYWluSGVhZGVyLCAuLmF1dG9saW5rOjpTVExJQjo6Q29udGFjdEhlYWRlcgpmcm9tIHN0bGliMy5waHlzaWNzLnJpZ2lkIGltcG9ydCAuLmF1dG9saW5rOjpTVExJQjo6Rmxvb3IsIC4uYXV0b2xpbms6OlNUTElCOjpDdWJlCmZyb20gZ3JpcHBlciBpbXBvcnQgR3JpcHBlcgoKZGVmIGNyZWF0ZVNjZW5lKHJvb3ROb2RlKToKICAgICIiIlRoaXMgaXMgbXkgZmlyc3Qgc2NlbmUiIiIKICAgIC4uYXV0b2xpbms6OlNUTElCOjpNYWluSGVhZGVyKHJvb3ROb2RlLCBncmF2aXR5PVswLjAsIC05ODEuMCwgMC4wXSwgcGx1Z2lucz1bIlNvZnRSb2JvdHMiXSkKICAgIC4uYXV0b2xpbms6OlNUTElCOjpDb250YWN0SGVhZGVyKHJvb3ROb2RlLCBhbGFybURpc3RhbmNlPTQsIGNvbnRhY3REaXN0YW5jZT0zLCBmcmljdGlvbkNvZWY9MC4wOCkKCiAgICBHcmlwcGVyKHJvb3ROb2RlKQoKICAgIC4uYXV0b2xpbms6OlNUTElCOjpGbG9vcihyb290Tm9kZSwgbmFtZT0iRmxvb3IiLAogICAgICAgICAgY29sb3I9WzEuMCwwLjAsMC4wLDEuMF0sCiAgICAgICAgICB0cmFuc2xhdGlvbj1bMC4wLC0xNjAuMCwwLjBdLAogICAgICAgICAgaXNBU3RhdGljT2JqZWN0PVRydWUpCgogICAgLi5hdXRvbGluazo6U1RMSUI6OkN1YmUocm9vdE5vZGUsIG5hbWU9IkN1YmUiLAogICAgICAgICAgdW5pZm9ybVNjYWxlPTIwLjAsCiAgICAgICAgICBjb2xvcj1bMS4wLDEuMCwwLjAsMS4wXSwKICAgICAgICAgIHRvdGFsTWFzcz0wLjAzLAogICAgICAgICAgdm9sdW1lPTIwLAogICAgICAgICAgaW5lcnRpYU1hdHJpeD1bMTAwMC4wLDAuMCwwLjAsMC4wLDEwMDAuMCwwLjAsMC4wLDAuMCwxMDAwLjBdLAogICAgICAgICAgdHJhbnNsYXRpb249WzAuMCwtMTMwLjAsMTAuMF0pCgogICAgcmV0dXJuIHJvb3ROb2RlCg==">
    
      <img class="code-fence-highlighter-copy-button-icon">

     </div><span md-src-pos="19360..19370"></span><span md-src-pos="19370..19459"><span style="color: rgb(204, 120, 50);">from</span> stlib3.scene <span style="color: rgb(204, 120, 50);">import</span> ..autolink::STLIB::MainHeader<span style="color: rgb(204, 120, 50);">,</span> ..autolink::STLIB::ContactHeader</span>
<span md-src-pos="19459..19542"><span style="color: rgb(204, 120, 50);">from</span> stlib3.physics.rigid <span style="color: rgb(204, 120, 50);">import</span> ..autolink::STLIB::Floor<span style="color: rgb(204, 120, 50);">,</span> ..autolink::STLIB::Cube</span>
<span md-src-pos="19542..19570"><span style="color: rgb(204, 120, 50);">from</span> gripper <span style="color: rgb(204, 120, 50);">import</span> Gripper</span>
<span md-src-pos="19570..19571"></span>
<span md-src-pos="19571..19598"><span style="color: rgb(204, 120, 50);">def</span> createScene(rootNode):</span>
<span md-src-pos="19598..19631">    <span style="color: rgb(98, 151, 85);">"""This is my first scene"""</span></span>
<span md-src-pos="19631..19727">    ..autolink::STLIB::MainHeader(rootNode<span style="color: rgb(204, 120, 50);">,</span> gravity=[<span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span> -<span style="color: rgb(104, 151, 187);">981.0</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">0.0</span>]<span style="color: rgb(204, 120, 50);">,</span> plugins=[<span style="color: rgb(106, 135, 89);">"SoftRobots"</span>])</span>
<span md-src-pos="19727..19829">    ..autolink::STLIB::ContactHeader(rootNode<span style="color: rgb(204, 120, 50);">,</span> alarmDistance=<span style="color: rgb(104, 151, 187);">4</span><span style="color: rgb(204, 120, 50);">,</span> contactDistance=<span style="color: rgb(104, 151, 187);">3</span><span style="color: rgb(204, 120, 50);">,</span> frictionCoef=<span style="color: rgb(104, 151, 187);">0.08</span>)</span>
<span md-src-pos="19829..19830"></span>
<span md-src-pos="19830..19852">    Gripper(rootNode)</span>
<span md-src-pos="19852..19853"></span>
<span md-src-pos="19853..19906">    ..autolink::STLIB::Floor(rootNode<span style="color: rgb(204, 120, 50);">,</span> name=<span style="color: rgb(106, 135, 89);">"Floor"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="19906..19941">          color=[<span style="color: rgb(104, 151, 187);">1.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">1.0</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="19941..19981">          translation=[<span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span>-<span style="color: rgb(104, 151, 187);">160.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="19981..20013">          isAStaticObject=<span style="color: rgb(204, 120, 50);">True</span>)</span>
<span md-src-pos="20013..20014"></span>
<span md-src-pos="20014..20065">    ..autolink::STLIB::Cube(rootNode<span style="color: rgb(204, 120, 50);">,</span> name=<span style="color: rgb(106, 135, 89);">"Cube"</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="20065..20094">          uniformScale=<span style="color: rgb(104, 151, 187);">20.0</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="20094..20129">          color=[<span style="color: rgb(104, 151, 187);">1.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">1.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">1.0</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="20129..20155">          totalMass=<span style="color: rgb(104, 151, 187);">0.03</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="20155..20176">          volume=<span style="color: rgb(104, 151, 187);">20</span><span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="20176..20248">          inertiaMatrix=[<span style="color: rgb(104, 151, 187);">1000.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">1000.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">1000.0</span>]<span style="color: rgb(204, 120, 50);">,</span></span>
<span md-src-pos="20248..20289">          translation=[<span style="color: rgb(104, 151, 187);">0.0</span><span style="color: rgb(204, 120, 50);">,</span>-<span style="color: rgb(104, 151, 187);">130.0</span><span style="color: rgb(204, 120, 50);">,</span><span style="color: rgb(104, 151, 187);">10.0</span>])</span>
<span md-src-pos="20289..20290"></span>
<span md-src-pos="20290..20310">    <span style="color: rgb(204, 120, 50);">return</span> rootNode</span>
<span md-src-pos="20310..20311"></span><span md-src-pos="20310..20313"></span></code></pre>
   <div> 
    <pre><a href="details/step6.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="12px" data-original-src="../../../docs/images/icons/play.png"> Show me the result.</a>
<a href="myproject/cablegripper.py"> <img src="http://localhost:63342/4f800f8a-bbed-4dd8-b03c-00449c9f6698/831525849/fileSchemeResource/1eb7ed51fa1e183e2c88d90b43d65c9c-play.png?_ijt=41mnngsq3k7928tnmqr2v674ls" width="12px" data-original-src="../../../docs/images/icons/play.png"> Do it yourself.</a>
</pre> 
   </div> 
   <h2 md-src-pos="20573..20586">Conclusion</h2>
   <p md-src-pos="20587..20739"><span md-src-pos="20587..20602">Congratulation,</span> <span md-src-pos="20603..20636">you have completed this tutorial.</span> <span md-src-pos="20637..20702">You are strongly encouraged to pursue with the other tutorial and</span> <span md-src-pos="20704..20739">read the thematical documentations.</span></p>
   <p md-src-pos="20741..20846"><span md-src-pos="20741..20781">If you have any comments or suggestions,</span> <span md-src-pos="20782..20809">please submit issues on our</span> <span md-src-pos="20810..20820">..autolink</span>::<span md-src-pos="20822..20845">github/SoftRobots page.</span></p>
  </div>
 </body>
</html>